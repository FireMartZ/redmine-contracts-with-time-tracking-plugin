<% controller.action_name == "new" ? action = "create" : action = "update" %>
<% controller.action_name == "new" ? method = :post : method = :put %>
<% controller.action_name == "new" ? title = @new_title : title = @contract.title %>

<%= form_for @contract, :url => { :action => action }, :method => method do |f| %>
  <%= f.hidden_field :project_id, :value => @project.id %>
  <div>
    <p><%= f.label :title %></p>
    <p><%= f.text_field :title, :value => title, :size => 50 %></p>
  </div>
  <div>
    <p><%= f.label :description %></p>
    <p><%= f.text_area :description, { :cols => 50, :rows => 3 } %></p>
  </div>
  <div>
    <p><%= f.label "Agreement Date: " %></p>
    <p><%= f.date_select :agreement_date, :order => [:month, :day, :year] %></p>
  </div>
  <div>
    <p><%= f.label "Start Date: " %></p>
    <p><%= f.date_select :start_date, :order => [:month, :day, :year] %></p>
  </div>
  <div>
    <p><%= f.label "End Date: " %></p>
    <p><%= f.date_select :end_date, :order => [:month, :day, :year] %></p>
  </div>
  <div>
    <p><%= f.label "Purchase Amount (e.g. $2000.00)" %></p>
    <p>$<%= f.text_field :purchase_amount, :size => 10 %></p>
  </div>
  <div>
    <p><%= f.label "Hourly Rate: (e.g. $60.00) " %></p>
    <p>$<%= f.text_field :hourly_rate, :size => 10 %></p>
  </div>
  <div>
    <p><%= f.label "Contract URL: " %></p>
    <p><%= f.text_field :contract_url, :size => 50 %></p>
  </div>
  <div>
    <p><%= f.label "Invoice URL: " %></p>
    <p><%= f.text_field :invoice_url, :size => 50 %></p>
  </div>
  <div>
    <% controller.action_name == "new" ? msg = "Create Contract" : msg = "Update Contract" %>
    <p><%= f.submit msg  %></p>
  </div>
<% end %>
